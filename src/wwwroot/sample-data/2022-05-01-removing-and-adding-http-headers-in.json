{
  "Content": [
    "There are a number of HTTP headers presented in an on-premises SharePoint 2013 installation. Some are added by SharePoint itself, others are added by IIS. There may be a number of reasons for you to remove or add to these headers.&amp;nbsp; Reasons to remove could be to hide the Operating System or SharePoint version for security.&amp;nbsp; Reasons to add could be to identify a web front-end server within a farm for fault finding.<br><br>",
    "<!--more-->",
    "SharePoint 2013 runs on top of .NET 4.5 and IIS 8. This changes the application events, compared to .NET 3.5. These application events are detailed here: <a href='http://msdn.microsoft.com/en-us/library/system.web.httpapplication_events(v=vs.110).aspx'>http://msdn.microsoft.com/en-us/library/system.web.httpapplication_events(v=vs.110).aspx</a><br><br>",
    "In order to make sure that we can modify the HTTP headers, we need to make sure that the interaction sets header values last, therefore we want to use the 'PreSendRequestHeaders' application event. If we use the 'EndRequest' it's too late and the headers have already been sent, so get them pre-send!<br><br>",
    "Now for some code.<br>",
    "<ol><li>In Visual Studio, create a new CLASS LIBRARY project and call it MyHttpModules</li><li>Add a reference to the System.Web.dll assembly</li><li>Rename the 'Class1.cs' file to 'ResponseHeaders.cs' and change the class definition to reflect this also.</li><li>Implement the IHttpModule interface, which should result in your class definition being:<br /><code><span style='font-family: Consolas; font-size: x-small;'><span style='color: blue;'>public class</span>  <span style='color: #2b91af;'>ResponseHeaders</span> : <span style='color: #2b91af;'>IHttpModule</span></span></code></li><li>Implement the <strong>Init</strong> and <strong>Dispose</strong> methods of the IHttpModule interface:<br /><code><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>        </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>public</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>void</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> Init(</span></span><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'>HttpApplication</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> app)</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>        {<br /> </span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            app.EndRequest += </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>new</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> </span></span><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'>EventHandler</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>(OnPreSendRequestHeaders);</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>        }<br />  </span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>        </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>public</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>void</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> Dispose()</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>        {<br />         }</span></span></code></li><li>Create a delegate for the event:<br /><code><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>public</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>delegate</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>void</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> </span></span><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'>MyEventHandler</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>(</span></span><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'>object</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> sender, </span></span><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'>EventArgs</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> e);</span></span></code></li><li>Define a private local variable of the type <strong>MyEventHandler</strong> to hold a reference to the event<br /><code><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>private</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> </span></span><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'>MyEventHandler</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> myeventhandler = </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>null</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>;</span></span></code></li><li>Create an event that hooks up the delegate to the method, that inherits from the <strong>HttpApplication</strong> object:<br /><code><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>        </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>public</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>event</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> </span></span><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'>MyEventHandler</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> MyEvent</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>        {<br /> </span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>add</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> { myeventhandler += </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>value</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>; }</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>remove</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> { myeventhandler -= </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>value</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>; }</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>        }</span></span></code></li><li>Create the <strong>OnPreSendRequestHeaders</strong> method, which hooks up to the <strong>PreSendRequestHeaders</strong> event of <strong>HttpApplication</strong>.  It is in this method that we decide what headers we want to remove or add.<br /><code><pre><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>private</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>void</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> OnPreSendRequestHeaders(</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>object</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> sender, </span></span><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'>EventArgs</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> e)</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>{</span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'><br />    </span></span><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'>HttpResponse</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> response = </span></span><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'><span style='color: #2b91af; font-family: Consolas; font-size: x-small;'>HttpContext</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>.Current.Response;</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>    </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>if</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> (response != </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>null</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>)</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>    {</span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'><br />        </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>var</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> responseHeaders = response.Headers;</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>        </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>if</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'> (responseHeaders != </span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>null</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>)</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>        {</span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'><br />            </span></span><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'>// Removes the header that identifies what version of ASP.NET the application is running: 'X-AspNet-Version: 4.0.30319'</span></span></span><br /><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'></span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>responseHeaders.Remove(</span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>'X-AspNet-Version'</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>);</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            </span></span><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'>// Removes the header that identifies the operating system of the application server: 'Server: Microsoft-IIS/8.0'</span></span></span><br /><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'></span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            responseHeaders.Remove(</span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>'Server'</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>);</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'>// Removes the SharePoint Health Score header: 'X-SharePointhealthScore: 0'</span></span></span><br /><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'></span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            responseHeaders.Remove(</span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>'X-SharePointHealthScore'</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>);</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            </span></span><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'>// Removes the SharePoint request Guid header: 'SPRequestGuid: a626759c-3ec6-30d2-0000-0f103a3ab08c'</span></span></span><br /><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'></span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            responseHeaders.Remove(</span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>'SPRequestGuid'</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>);</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            </span></span><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'>// Removes the SharePoint IIS latency header: 'SPIisLatency: 10'</span></span></span><br /><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'></span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            responseHeaders.Remove(</span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>'SPIisLatency'</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>);</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            </span></span><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'>// Removes the SharePoint request duration header: 'SPRequestDuration: 302065'</span></span></span><br /><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'></span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            responseHeaders.Remove(</span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>'SPRequestDuration'</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>);</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            </span></span><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'>// Adds a new custom header with a set value: 'X-MyCustom-header: some custom value'</span></span></span><br /><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'><span style='color: green; font-family: Consolas; font-size: x-small;'></span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>            responseHeaders.Add(</span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>'X-MyCustom-Header'</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>, </span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>'some custom value'</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>);</span></span><br /><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>        }<br />    }<br />}</span></span></pre></code></li><li>Compile the project and make sure that there are no errors.</li></ol>",
    "The next part is that we want to add the module to the web application and configure the web application to use the module. &amp;nbsp; There are a number of ways that you can include a class library in your web application.&amp;nbsp; For this example, I&#39;ll assume that you copy the <strong>MyHttpModules.dll</strong> file from the project '<strong>bin/debug</strong>' folder to the '<strong>bin</strong>' folder of the web application.<br /><br />Next we want to add the following to the web.config file of the web application:<br /><code></code><br /><pre><code><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>configuration</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>  &amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>system.webServer</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>    &amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>modules</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>      &amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>add</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'> </span></span></span><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'>name</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>=</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>MyHttpModules</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'> </span></span></span><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'>type</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>=</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>MyHttpModules.ResponseHeaders, MyHttpModules</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>/&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>    &amp;lt;/</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>modules</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>  &amp;lt;/</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>system.webServer</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;lt;/</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>configuration</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt; </span></span></span></span></span></span></code></pre><code><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'></span></span></span></code><br />Something to note is that the schema for the web.config in IIS8 is different than in IIS7.&amp;nbsp; In IIS7 you would place the module in the web.config as:<br /><code></code><br /><pre><code><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>configuration</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>   &amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>system.web</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>      &amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>httpModules</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>        &amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>add</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'> </span></span></span><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'>name</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>=</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>MyHttpModules</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'> </span></span></span><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'>type</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>=</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>MyHttpModules.ResponseHeaders, MyHttpModules</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>/&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>      &amp;lt;/</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>httpModules</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>   &amp;lt;/</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>system.web</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;lt;/</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>configuration</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span></code></pre><br />Before you add your module, your HTTP Header would look like the following (I use <a href='http://www.fiddler2.com/' target='_blank'>Fiddler2</a> to get the HTTP Header information): <br /><code></code><br /><pre><code>HTTP/1.1 200 OK<br />Cache-Control: private, max-age=0<br />Content-Type: text/html; charset=utf-8<br />Expires: Mon, 03 Feb 2014 17:50:08 GMT<br />Last-Modified: Tue, 18 Feb 2014 17:50:08 GMT<br />Server: Microsoft-IIS/8.0<br />X-SharePointHealthScore: 0<br />X-AspNet-Version: 4.0.30319<br />SPRequestGuid: b584759c-deb5-30d2-0000-0a5be223e534<br />request-id: b584759c-deb5-30d2-0000-0a5be223e534<br />X-FRAME-OPTIONS: SAMEORIGIN<br />SPRequestDuration: 79637<br />SPIisLatency: 15<br />Persistent-Auth: true<br />X-Powered-By: ASP.NET<br />MicrosoftSharePointTeamServices: 15.0.0.4551<br />X-Content-Type-Options: nosniff<br />X-MS-InvokeApp: 1; RequireReadOnly<br />Date: Tue, 18 Feb 2014 17:51:28 GMT<br />Content-Length: 130944</code></pre><br />You may also want to remove the <strong>X-Powered-By</strong> header.&amp;nbsp; This is done by adding a remove to the web.config customHeaders section:<br /><pre><code><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>configuration</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>  &amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>system.webServer</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>    &amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>httpProtocol</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>      &amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>customHeaders</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>        &amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>remove</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'> </span></span></span><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'>name</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>=</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>X-Powered-By</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'> /&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>        &amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>add</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'> </span></span></span><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'>name</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>=</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>X-Content-Type-Options</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'> </span></span></span><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'>value</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>=</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>nosniff</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'> /&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>        &amp;lt;</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>add</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'> </span></span></span><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'>name</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>=</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>X-MS-InvokeApp</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'> </span></span></span><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'><span style='color: red; font-family: Consolas; font-size: x-small;'>value</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>=</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>1; RequireReadOnly</span></span></span><span style='font-family: Consolas; font-size: x-small;'><span style='font-family: Consolas; font-size: x-small;'>'</span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'> /&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>      &amp;lt;/</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>customHeaders</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>    &amp;lt;/</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>httpProtocol</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>  &amp;lt;/</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>system.webServer</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span><br /><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;lt;/</span></span></span><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'><span style='color: #a31515; font-family: Consolas; font-size: x-small;'>configuration</span></span></span><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'><span style='color: blue; font-family: Consolas; font-size: x-small;'>&amp;gt;</span></span></span></code></pre><br />The <strong>end result</strong> is the header of:<br /><pre>HTTP/1.1 200 OK<br />Cache-Control: private, max-age=0<br />Content-Type: text/html; charset=utf-8<br />Expires: Mon, 03 Feb 2014 17:55:59 GMT<br />Last-Modified: Tue, 18 Feb 2014 17:55:59 GMT<br />request-id: 0b85759c-8e7a-30d2-0000-0af89abe07bb<br />X-FRAME-OPTIONS: SAMEORIGIN<br />X-MyCustom-Header: some custom value<br />Persistent-Auth: true<br />MicrosoftSharePointTeamServices: 15.0.0.4551<br />X-Content-Type-Options: nosniff<br />X-MS-InvokeApp: 1; RequireReadOnly<br />Date: Tue, 18 Feb 2014 17:56:31 GMT<br />Content-Length: 130944</pre><br /><strong>NOTE</strong>: We have not removed the header <strong>MicrosoftSharePointTeamServices</strong>.  This header is used by SharePoint search.  If you remove this header, and the web application is a target for SharePoint search, search will fail to function correctly.  However, if you have a server in the farm dedicated as a crawl target, you could remove the header from all public facing web servers, and keep the header on the crawl server target."
  ],
  "Title": "Removing and adding HTTP headers in SharePoint 2013 and IIS8/7",
  "Categories": [
    "http",
    "sharepoint",
    "headers"
  ],
  "Author": "George Leithead",
  "Created": "2022-04-01T15:15:00+00:00",
  "Slug": "removing-and-adding-http-headers-in"
}
